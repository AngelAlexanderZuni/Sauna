@model ProyectoSaunaKalixto.Web.Pages.Usuarios.CreateModel

<!-- Modal Header -->
<div class="modal-header">
    <div class="flex items-center justify-between">
        <div>
            <h2 class="text-lg font-semibold" style="color: var(--foreground);">Nuevo Usuario</h2>
            <p class="text-sm mt-1" style="color: var(--muted-foreground);">Registra un nuevo usuario en el sistema</p>
        </div>
        <button type="button" onclick="Modal.close('crudModal')" class="p-2 rounded-md hover:bg-muted transition-colors">
            <svg class="h-5 w-5" style="color: var(--muted-foreground);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>
</div>

<!-- Modal Body -->
<form method="post" asp-page="./Create">
    <div class="modal-body">
        <div class="grid grid-cols-1 gap-4">
            <!-- Nombre de Usuario -->
            <div>
                <label asp-for="Usuario.NombreUsuario" class="block text-sm font-medium mb-1" style="color: var(--foreground);">
                    Nombre de Usuario <span style="color: var(--destructive);">*</span>
                </label>
                <input asp-for="Usuario.NombreUsuario" 
                       class="w-full px-3 py-2 text-sm border rounded-md" 
                       style="border-color: var(--border); background-color: var(--background); color: var(--foreground);"
                       required
                       minlength="3"
                       maxlength="50"
                       pattern="[a-zA-Z0-9_\-]+"
                       title="Solo letras, números, guion bajo y guion medio"
                       autocomplete="username" />
                <span asp-validation-for="Usuario.NombreUsuario" class="text-xs" style="color: var(--destructive);"></span>
            </div>

            <!-- Contraseña -->
            <div>
                <label asp-for="Usuario.Contrasenia" class="block text-sm font-medium mb-1" style="color: var(--foreground);">
                    Contraseña <span style="color: var(--destructive);">*</span>
                </label>
                <input asp-for="Usuario.Contrasenia" 
                       type="password"
                       class="w-full px-3 py-2 text-sm border rounded-md" 
                       style="border-color: var(--border); background-color: var(--background); color: var(--foreground);"
                       required
                       minlength="8"
                       maxlength="100"
                       autocomplete="new-password" />
                <div class="mt-2 flex items-center">
                    <input id="togglePasswordCreateModal" type="checkbox" class="rounded mr-2" style="border-color: var(--border);" onclick="togglePasswordVisibility('Usuario_Contrasenia', this.checked)" />
                    <label for="togglePasswordCreateModal" class="text-xs" style="color: var(--foreground);">Mostrar contraseña</label>
                </div>
                <span asp-validation-for="Usuario.Contrasenia" class="text-xs" style="color: var(--destructive);"></span>
                <p class="text-xs mt-1" style="color: var(--muted-foreground);">Mínimo 8 caracteres, incluye mayúscula, minúscula, número y símbolo</p>
            </div>

            <!-- Correo -->
            <div>
                <label asp-for="Usuario.Correo" class="block text-sm font-medium mb-1" style="color: var(--foreground);">
                    Correo Electrónico <span style="color: var(--destructive);">*</span>
                </label>
                <input asp-for="Usuario.Correo" 
                       type="email" 
                       class="w-full px-3 py-2 text-sm border rounded-md" 
                       style="border-color: var(--border); background-color: var(--background); color: var(--foreground);"
                       required
                       maxlength="150"
                       placeholder="usuario@ejemplo.com"
                       autocomplete="email" />
                <span asp-validation-for="Usuario.Correo" class="text-xs" style="color: var(--destructive);"></span>
            </div>

            <!-- Rol -->
            <div>
                <label asp-for="Usuario.IdRol" class="block text-sm font-medium mb-1" style="color: var(--foreground);">
                    Rol <span style="color: var(--destructive);">*</span>
                </label>
                <select asp-for="Usuario.IdRol" 
                        asp-items="Model.Roles"
                        class="w-full px-3 py-2 text-sm border rounded-md" 
                        style="border-color: var(--border); background-color: var(--background); color: var(--foreground);"
                        required>
                    <option value="">Seleccione un rol</option>
                </select>
                <span asp-validation-for="Usuario.IdRol" class="text-xs" style="color: var(--destructive);"></span>
            </div>

            <!-- Activo -->
            <div>
                <label class="flex items-center cursor-pointer">
                    <input asp-for="Usuario.Activo" type="checkbox" class="rounded mr-2" style="border-color: var(--border);" checked />
                    <span class="text-sm font-medium" style="color: var(--foreground);">Usuario Activo</span>
                </label>
            </div>
        </div>

        <p class="text-xs mt-4" style="color: var(--muted-foreground);">
            <span style="color: var(--destructive);">*</span> Campos obligatorios
        </p>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
        <button type="button" onclick="Modal.close('crudModal')" 
                class="px-4 py-2 text-sm font-medium rounded-md transition-colors" 
                style="border: 1px solid var(--border); color: var(--foreground);">
            Cancelar
        </button>
        <button type="submit" 
                class="px-4 py-2 text-sm font-medium rounded-md transition-colors text-white" 
                style="background-color: var(--primary);">
            Guardar Usuario
        </button>
    </div>
</form>
